# 🚀 快速开始：在 iPhone 上预览应用

## ⚡ 最简单的方法（无需同一 Wi-Fi！）

### 🎯 推荐方案：使用 Cloudflare Tunnel（完全免费，无需注册）

### 步骤 1：启动远程预览

在项目根目录打开 PowerShell，运行：

```powershell
npm run dev:cloudflare
```

**首次运行会自动下载 cloudflared，等待 1-2 分钟即可。**

### 步骤 2：获取公网链接

运行后，你会看到类似这样的输出：

```
+----------------------------------------------------------------------------+
|  Your quick Tunnel has been created! Visit it at (it may take some time  |
|  to be reachable):                                                         |
|                                                                             |
|  https://xxxx-xxxx-xxxx.trycloudflare.com                                 |
+----------------------------------------------------------------------------+
```

**复制这个 `https://xxxx.trycloudflare.com` 链接！**

### 步骤 3：在 iPhone 上访问（任何地方都可以！）

1. **在任何地方**（无需同一 Wi-Fi，甚至可以用移动网络）
2. 打开 iPhone Safari 浏览器
3. 输入或粘贴刚才复制的链接
4. 即可访问你的应用！

---

## 🌐 其他方案

### 方案 A：自动选择工具

```powershell
npm run dev:tunnel
```

会自动检测并使用可用的内网穿透工具。

### 方案 B：使用 ngrok（需要安装）

如果你已经安装了 ngrok：

```powershell
npm run dev:ngrok
```

### 方案 C：同一 Wi-Fi 网络（旧方法）

如果你和 iPhone 在同一 Wi-Fi：

```powershell
npm run dev:network
```

然后在 iPhone Safari 中输入：`http://你的IP:5173`

---

### 步骤 4：添加到主屏幕（可选，更像 App）

1. 在 Safari 中打开应用后
2. 点击底部的 **分享按钮**（方框带箭头）
3. 向下滚动，选择 **"添加到主屏幕"**
4. 输入名称（如"今天吃什么"）
5. 点击"添加"

现在你可以在主屏幕上像 App 一样打开它！

---

## 🎯 测试功能

在 iPhone 上测试以下功能：

- ✅ 界面显示是否正常
- ✅ 按钮点击是否响应
- ✅ 地图功能（需要位置权限）
- ✅ 餐厅推荐功能
- ✅ 多语言切换

**注意：** 某些原生功能（如精确位置定位）可能需要在真机 App 中才能完全测试。

---

## 🔧 如果遇到问题

### 问题 1：无法访问

**解决方案：**
1. 检查防火墙设置，允许 5173 端口
2. 在 Windows 防火墙中添加 Vite 为例外
3. 尝试关闭防火墙测试（仅用于测试）

### 问题 2：页面显示不正常

**解决方案：**
1. 清除 Safari 缓存
2. 强制刷新（长按刷新按钮）
3. 检查控制台错误（Safari → 开发 → 你的 iPhone → 控制台）

### 问题 3：位置功能不工作

**说明：** Web 版本的位置功能可能有限制，这是正常的。完整的位置功能需要在真机 App 中测试。

---

## 📱 下一步：准备上架

预览确认功能正常后，查看 `iPhone预览和上架指南.md` 了解如何：
1. 注册 Apple Developer 账号
2. 准备应用截图
3. 构建和提交应用

---

## 💡 提示

- 开发服务器运行期间，修改代码会自动刷新（热更新）
- 如果 IP 地址变化，重新运行 `npm run dev:network` 即可
- 建议在预览时测试所有主要功能，确保用户体验良好

**现在就开始预览吧！** 🎉
