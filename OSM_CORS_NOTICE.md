# ⚠️ OpenStreetMap CORS 问题说明

## 问题

OpenStreetMap 的 Nominatim API 在浏览器中直接调用时会被 CORS 策略阻止。

## 解决方案

### 开发环境 ✅
- 已配置 Vite 代理
- 通过 `/api/nominatim` 和 `/api/overpass` 代理访问
- **需要重启开发服务器**才能生效

### 生产环境 ⚠️

由于 Cloudflare Pages 是静态网站托管，无法使用服务器代理。有以下选项：

#### 选项1：使用免费的开源代理服务
- 可以使用公开的 Nominatim 代理服务
- 或部署自己的简单代理服务器

#### 选项2：使用其他地图服务
- **高德地图**：中国内地用户（已内置API Key）
- **Google Maps**：需要API Key，但有免费额度

#### 选项3：后端代理（推荐用于生产环境）
- 部署一个简单的后端服务作为代理
- 使用 Node.js、Python 等创建代理服务
- 代理 OpenStreetMap API 请求

## 当前状态

- ✅ 开发环境：已配置代理，可以正常使用
- ⚠️ 生产环境：需要额外配置

## 建议

对于生产环境，如果不想配置后端代理：
1. 使用**高德地图**（中国用户）
2. 使用**Google Maps**（需要API Key，但有免费额度）
3. 或者部署一个简单的后端代理服务

---

**注意**：重启开发服务器后，OpenStreetMap 在开发环境中应该可以正常工作了。
