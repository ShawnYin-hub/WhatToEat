# ğŸ”§ ä¿®å¤ Nominatim API 400 é”™è¯¯

## âš ï¸ é—®é¢˜

è¯·æ±‚ç°åœ¨æ­£ç¡®åˆ°è¾¾ `/api/nominatim`ï¼Œä½†è¿”å› 400 Bad Requestã€‚

## âœ… å·²ä¿®å¤

å·²æ›´æ–° `api/nominatim.js`ï¼Œä¿®å¤äº†æŸ¥è¯¢å‚æ•°çš„å¤„ç†æ–¹å¼ã€‚

**ä¿®å¤å†…å®¹ï¼š**
- ä½¿ç”¨ `req.query.q` è·å–æŸ¥è¯¢å‚æ•°ï¼ˆVercel Functions çš„æ ‡å‡†æ ¼å¼ï¼‰
- æ·»åŠ äº† `req.query.query` ä½œä¸ºå¤‡é€‰ï¼ˆå…¼å®¹æ€§ï¼‰

## ğŸ“¤ éœ€è¦é‡æ–°éƒ¨ç½²

### æ­¥éª¤

1. **æäº¤æ›´æ”¹ï¼ˆGitHub Desktopï¼‰**
   - æ‰“å¼€ GitHub Desktop
   - åº”è¯¥èƒ½çœ‹åˆ° `api/nominatim.js` æ˜¾ç¤ºä¸ºå·²ä¿®æ”¹
   - åœ¨ "Summary (required)" è¾“å…¥ï¼š`Fix: Nominatim API query parameter handling`
   - ç‚¹å‡» "Commit to main"
   - ç‚¹å‡» "Push origin"

2. **ç­‰å¾… Vercel è‡ªåŠ¨éƒ¨ç½²**
   - è®¿é—®ï¼šhttps://vercel.com/dashboard
   - æŸ¥çœ‹éƒ¨ç½²è¿›åº¦ï¼ˆç­‰å¾… 1-2 åˆ†é’Ÿï¼‰

3. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶æµ‹è¯•**
   - æŒ‰ `Ctrl + Shift + R` å¼ºåˆ¶åˆ·æ–°
   - æµ‹è¯•åœ°ç‚¹æœç´¢åŠŸèƒ½
   - åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†

## ğŸ” æŠ€æœ¯è¯´æ˜

**é—®é¢˜åŸå› ï¼š**
- Vercel Serverless Functions ä½¿ç”¨ `req.query` å¯¹è±¡è®¿é—®æŸ¥è¯¢å‚æ•°
- æŸ¥è¯¢å‚æ•° `?q=New` åœ¨ `req.query.q` ä¸­ï¼Œè€Œä¸æ˜¯ `req.query.query`

**ä¿®å¤åï¼š**
- ä½¿ç”¨ `req.query.q` è·å–æŸ¥è¯¢å‚æ•°
- æ·»åŠ é”™è¯¯å¤„ç†å’Œå…¼å®¹æ€§

---

**é‡è¦ï¼šä¿®å¤åå¿…é¡»é‡æ–°éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆï¼**
